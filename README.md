![no-watermark](https://socialify.git.ci/LauZzL/no-watermark/image?custom_description=%E5%9F%BA%E4%BA%8E+Spring+Boot+3+%E7%9A%84%E7%9F%AD%E8%A7%86%E9%A2%91%2F%E5%9B%BE%E9%9B%86%E5%8E%BB%E6%B0%B4%E5%8D%B0%E6%9C%8D%E5%8A%A1&custom_language=Spring+Boot&description=1&font=Inter&forks=1&language=1&name=1&owner=1&pattern=Circuit+Board&stargazers=1&theme=Auto)

<p align="center">
<p align="center">
<a href="#æ”¯æŒå¹³å°">ğŸ¯ æ”¯æŒå¹³å°</a> |
<a href="#æ„å»º">ğŸ› ï¸ æ„å»º</a> |
<a href="#è´¦å·é…ç½®">âš™ï¸ è´¦å·é…ç½®</a> |
<a href="#ä»£ç†é…ç½®">ğŸŒ ä»£ç†é…ç½®</a> |
<a href="#ç¼“å­˜é…ç½®">ğŸ’¾ ç¼“å­˜é…ç½®</a> |
<a href="#å‚ä¸å¼€å‘">ğŸ‘¥ å‚ä¸å¼€å‘</a> |
<a href="#å¸¸è§é—®é¢˜">â“ï¸ å¸¸è§é—®é¢˜</a> |
<a href="#å°ç¨‹åºåœ¨çº¿ä½“éªŒ">ğŸ“± å°ç¨‹åºä½“éªŒ</a>
</p>



## é¡¹ç›®ä»‹ç»

**ä¸€ä¸ªåŸºäº Spring Boot 3 çš„çŸ­è§†é¢‘/å›¾é›†/å®å†µå»æ°´å°æœåŠ¡**

![frontend](/screenshot/shots.png)



## æ”¯æŒå¹³å°

| å¹³å°       | æ”¯æŒåŸŸå                                            | è§†é¢‘ | å›¾é›† | å®å†µ |
| ---------- | --------------------------------------------------- | ---- | ---- | ---- |
| æ¨ç‰¹       | `x.com` `twitter.com`                               | âœ…    | âœ…    | -    |
| çš®çš®è™¾     | `h5.pipix.com`                                      | âœ…    | âœ…    | -    |
| æŠ–éŸ³       | `v.douyin.com` `www.douyin.com` `www.iesdouyin.com` | âœ…    | âœ…    | âœ…    |
| Tik Tok    | `vm.tiktok.com` `www.tiktok.com`                    | âœ…    | âŒï¸    | âŒï¸    |
| æœ€å³       | `share.xiaochuankeji.cn`                            | âœ…    | âœ…    | -    |
| çš®çš®æç¬‘   | `h5.ippzone.com`                                    | âœ…    | âœ…    | -    |
| å¾®è§†       | `v.weishi.qq.com` `video.weishi.qq.com`             | âœ…    | âœ…    | -    |
| å°çº¢ä¹¦     | `xhslink.com` `www.xiaohongshu.com`                 | âœ…    | âœ…    | âœ…    |
| å¿«æ‰‹       | `www.kuaishou.com`                                  | âœ…    | âœ…    | -    |
| å¾®åš       | `weibo.com` `m.weibo.cn`                            | âœ…    | âœ…    | -    |
| AcFun      | `www.acfun.cn`                                      | âœ…    | -    | -    |
| Instagram  | `www.instagram.com`                                 | âœ…    | âœ…    | -    |
| ä»Šæ—¥å¤´æ¡   | `www.toutiao.com`  `m.toutiao.com`                  | âœ…    | -    | -    |
| å“”å“©å“”å“©   | `www.bilibili.com`                                  | âœ…    | -    | -    |
| å¤®è§†é¢‘     | `w.yangshipin.cn`  `www.yspapp.cn`                  | âœ…    | -    | -    |
| Threads    | `www.threads.com`                                   | âœ…    | âœ…    | -    |
| Pinterest  | `www.pinterest.com` `pin.it`                        | âœ…    | âœ…    | -    |
| Weverse    | `weverse.io`                                        | -    | âœ…    | -    |
| Vimeo      | `vimeo.com`                                         | âœ…    | âœ…    | -    |
| å¾®ä¿¡å…¬ä¼—å· | `mp.weixin.qq.com`                                  | âœ…    | âœ…    | -    |
| å¾…æ·»åŠ      | -                                                   | -    | -    | -    |

## è´¦å·é…ç½®

éƒ¨åˆ†å¹³å°è§£ææ—¶éœ€è¦é…ç½®è´¦å·ä¿¡æ¯ã€‚

### æ¨ç‰¹

æ¨ç‰¹è§£æéœ€è¦åœ¨ `application-${spring.profiles.active}.yml` æ–‡ä»¶ä¸­é…ç½® Twitter è´¦å·ä¿¡æ¯ã€‚

<details>
<summary>è·å–æ¨ç‰¹è´¦å·ä¿¡æ¯</summary>

1. é¦–å…ˆéœ€è¦åœ¨æµè§ˆå™¨ç™»å½•Twitterè´¦å·ã€‚
2. `F12` æˆ– `Ctrl+Shift+I` æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©`Network`æ ‡ç­¾ã€‚
3. `F5` æˆ– `Ctrl+R` åˆ·æ–°é¡µé¢ã€‚
4. åœ¨`Network`æ ‡ç­¾ä¸­ï¼Œ`Ctrl+F` æœç´¢ `live_pipeline/update_subscriptions`ã€‚
5. ç‚¹å‡» `live_pipeline/update_subscriptions`ï¼Œåœ¨ `Request Headers` æ ‡ç­¾ï¼Œæ‰¾åˆ° `x-csrf-token`ã€`Cookie`ã€`Authorization` å‚æ•°ï¼Œå¤åˆ¶ä¸Šæ–¹yamlä¸­éœ€è¦çš„å‚æ•°å€¼å¹¶å°†å…¶å¡«å…¥é…ç½®æ–‡ä»¶ä¸­ã€‚

![](/screenshot/tw-1.png)

</details>


```yaml
# å¹³å°è´¦å·è®¾ç½®
account:
  # æ¨ç‰¹è´¦å·è®¾ç½®
  twitter:
    # cookie.auth_token
    auth_token: å¿…å¡«
    # header.x-csrf-token
    x_csrf_token: å¿…å¡«
    # header.authorization
    authorization: å¿…å¡«
```

### å“”å“©å“”å“©

å“”å“©å“”å“©è®¾ç½®è´¦å·cookieåå¯è·å–æœ€é«˜åˆ†è¾¨ç‡è§†é¢‘ã€‚

```yaml
account:
  bilibili:
    cookie: "ä½ çš„Bç«™Cookie"  # ç™»å½•Bç«™åè·å–çš„Cookie
```

å“”å“©å“”å“©è§†é¢‘è§£ææ—¶ï¼Œå¦‚æœè§†é¢‘æ˜¯åˆé›†ï¼Œå¤åˆ¶é“¾æ¥æ—¶è¯·ç¡®ä¿url.queryä¸­å«æœ‰på€¼ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è·å–å½“å‰é€‰ä¸­çš„é›†æ•°ã€‚

```
// p=9è¯¥è§†é¢‘åˆé›†çš„ç¬¬9é›†
eg: https://www.bilibili.com/video/xxxxxx?spm_id_from=333.788.videopod.episodes&vd_source=xxxx&p=9
```


## ä»£ç†é…ç½®

åœ¨è§£æéƒ¨åˆ†å¹³å°æ—¶éœ€è¦å›½å¤–ç½‘ç»œç¯å¢ƒï¼Œéœ€è¦åœ¨ `application-${spring.profiles.active}.yml` ä¸­é…ç½®ä»£ç†ä¿¡æ¯ã€‚

```yaml
forest:
  proxy:
    # å¯ç”¨åä»…åœ¨è¯·æ±‚å›½å¤–ç«™ç‚¹æ—¶æ‰å¯ç”¨ä»£ç†(æœ¬æœºæ˜¯å›½å¤–ç½‘ç»œç¯å¢ƒåˆ™ä¸éœ€è¦å¯ç”¨)
    enable: true
    # http or socks (docs:https://forest.kim/pages/1.7.x/api_proxy/)
    type: http
    host: 127.0.0.1
    port: 7890
    # username:
    # password:
```

## ç¼“å­˜é…ç½®

éƒ¨åˆ†å¹³å°å¯èƒ½éœ€è¦ä½¿ç”¨redisæ¥ç¼“å­˜ä¸€äº›æ•°æ®ï¼Œéœ€è¦ `application-${spring.profiles.active}.yml` æ–‡ä»¶ä¸­é…ç½®redisè¿æ¥ä¿¡æ¯ã€‚

```yaml
spring:
  data:
    redis:
      # Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰
      database: 0
      # RedisæœåŠ¡å™¨åœ°å€
      host: 127.0.0.1
      # RedisæœåŠ¡å™¨è¿æ¥ç«¯å£
      port: 6379
      # RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰
      password:
      # è¿æ¥è¶…æ—¶æ—¶é—´
      timeout: 10s
      lettuce:
        pool:
          # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°
          max-active: 200
          # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰
          max-wait: -1ms
          # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥
          max-idle: 10
          # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥
          min-idle: 0
```



## æ„å»º

### å‰ç«¯

> âš ï¸ æ³¨æ„ï¼šReact 19 ç‰ˆæœ¬ä¸­ Semi Design Toast ç»„ä»¶å­˜åœ¨æŠ¥é”™é—®é¢˜ï¼ˆè¯¦è§ Semi Design Issue [#2980](https://github.com/DouyinFE/semi-design/issues/2980)ï¼‰ï¼Œå»ºè®®ä½¿ç”¨ React 18 ç‰ˆæœ¬å¼€å‘ã€‚

```shell
cd no-watermark-frontend
# å®‰è£…ä¾èµ–
yarn install
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
yarn dev
```

### åç«¯

é¡¹ç›®å¯åŠ¨æˆåŠŸåå¯ä»¥è®¿é—® `http://localhost:10010/doc.html` æŸ¥çœ‹Apiæ–‡æ¡£ã€‚

```shell
cd no-watermark-backend
# å®‰è£…ä¾èµ–
./mvnw clean install
# è¿è¡Œ
./mvnw spring-boot:run -D spring-boot.run.jvmArguments="-Dspring.profiles.active=dev"
```



## å‚ä¸å¼€å‘

åŠ å…¥è¯¥é¡¹ç›®åŒå¼€å‘è€…å…±åŒç»´æŠ¤ã€‚

- ä½ å¯ä»¥é€šè¿‡ [PR](https://github.com/LauZzL/no-watermark/pulls) å¯¹é¡¹ç›®ä»£ç åšå‡ºè´¡çŒ®
- ä½ å¯ä»¥é€šè¿‡ [Issues](https://github.com/LauZzL/no-watermark/issues) æäº¤é—®é¢˜æˆ–æå‡ºå»ºè®®

## å¸¸è§é—®é¢˜

### **å“”å“©å“”å“©è§†é¢‘ä¸‹è½½403**

å“”å“©å“”å“©è·å–çš„è§†é¢‘æ ¼å¼æ˜¯m4sï¼Œæ’­æ”¾æˆ–ä¸‹è½½æ—¶éœ€è¦æ·»åŠ Refererå‚æ•°ï¼Œå¦åˆ™ä¼šè§¦å‘é˜²ç›—é“¾ã€‚

```
referer: https://www.bilibili.com/
```

### **å¾®ä¿¡å…¬ä¼—å·è§†é¢‘ä¸‹è½½403**

å¾®ä¿¡å…¬ä¼—å·è§†é¢‘åœ¨ä¸‹è½½æ—¶éœ€è¦è¡¥é½headerä¿¡æ¯ï¼Œåœ¨ä¸‹è½½æ—¶éœ€è¦æºå¸¦ä¸‹æ–¹è¯·æ±‚å¤´ã€‚

```
# æ–­ç‚¹ç»­ä¼ 
range: bytes=0-
host: mpvideo.qpic.cn
origin: https://mp.weixin.qq.com
referer: https://mp.weixin.qq.com/
```




## å°ç¨‹åºåœ¨çº¿ä½“éªŒ

<div align="center" >
<img style="display: block; margin: 0 auto; " src="https://iili.io/FtOBlkX.jpg" width="200" height="200" />
</div>


## å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚